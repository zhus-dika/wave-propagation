import { Line, mixins } from 'vue-chartjs';
const { reactiveProp } = mixins;

export default {
  extends: Line,
  mixins: [reactiveProp],
  props: ['data'],
  mounted() {
    // this.chartData is created in the mixin.
    // If you want to pass options please create a local options object
    this.renderLineChart();
  },
  data() {
    return {
      fillcolors: [
        '#d86d93',
        '#ff8800',
        '#fde435',
        '#039BE5',
        '#ec113b',
        '#5352b0',
        '#3c9163',
        '#afdc47',
        '#ffc353',
        '#7986CB',
        '#E6B0AA',
        '#9B59B6',
        '#F57F17',
        '#7FB3D5',
        '#17A589',
        '#D4AC0D',
        '#D0D3D4',
        '#F48FB1',
        '#34495E',
        '#E6B0AA',
        '#AF7AC5',
        '#78281F',
        '#5499C7',
        '#FF5252',
        '#5DADE2',
        '#6A1B9A',
        '#48C9B0',
        '#7D6608',
        '#F8BBD0',
        '#7B7D7D',
        '#EC407A',
        '#880E4F',
        '#5D6D7E',
        '#4DD0E1',
        '#F44336',
        '#448AFF',
        '#FFCA28',
        '#F48FB1',
        '#FFEA00',
        '#3E2723',
      ],
      backgroundColor: [
        '#346f79',
        '#fead00',
        '#80000d',
        '#555555',
        '#bf3300',
        '#b97b2a',
        '#6e3b00',
        '#171442',
        '#e6000a',
        '#a43cbe',
        '#226ab7',
        '#ff7600',
        '#00b229',
        '#925148',
        '#7f7f7f',
        '#346f79',
        '#fead00',
        '#80000d',
        '#555555',
        '#bf3300',
        '#b97b2a',
        '#6e3b00',
        '#171442',
        '#e6000a',
        '#a43cbe',
        '#226ab7',
        '#ff7600',
        '#00b229',
        '#925148',
        '#7f7f7f',
        '#5C6BC0',
        '#FFCC80',
        '#FBE9E7',
        '#A1887F',
        '#90A4AE',
        '#FF6D00',
        '#33691E',
        '#BCAAA4',
        '#616161',
        '#607D8B',
        '#FF5722',
      ],
    };
  },
  computed: {
    labelArray: function () {
      return ['k_1=0.05', 'k_1=0.1', 'k_1=0.15', 'k_1=0.2', 'k_1=0.25'];
    },
    labels: function () {
      return [
        0.0314159,
        0.0628319,
        0.0942478,
        0.125664,
        0.15708,
        0.188496,
        0.219911,
        0.251327,
        0.282743,
        0.314159,
        0.345575,
        0.376991,
        0.408407,
        0.439823,
        0.471239,
        0.502655,
        0.534071,
        0.565487,
        0.596903,
        0.628319,
        0.659734,
        0.69115,
        0.722566,
        0.753982,
        0.785398,
        0.816814,
        0.84823,
        0.879646,
        0.911062,
        0.942478,
        0.973894,
        1.00531,
        1.03673,
        1.06814,
        1.09956,
        1.13097,
        1.16239,
        1.19381,
        1.22522,
        1.25664,
        1.28805,
        1.31947,
        1.35088,
        1.3823,
        1.41372,
        1.44513,
        1.47655,
        1.50796,
        1.53938,
        1.5708,
        1.60221,
        1.63363,
        1.66504,
        1.69646,
        1.72788,
        1.75929,
        1.79071,
        1.82212,
        1.85354,
        1.88496,
        1.91637,
        1.94779,
        1.9792,
        2.01062,
        2.04204,
        2.07345,
        2.10487,
        2.13628,
        2.1677,
        2.19911,
        2.23053,
        2.26195,
        2.29336,
        2.32478,
        2.35619,
        2.38761,
        2.41903,
        2.45044,
        2.48186,
        2.51327,
        2.54469,
        2.57611,
        2.60752,
        2.63894,
        2.67035,
        2.70177,
        2.73319,
        2.7646,
        2.79602,
        2.82743,
        2.85885,
        2.89027,
        2.92168,
        2.9531,
        2.98451,
        3.01593,
        3.04734,
        3.07876,
        3.11018,
        3.14159,
      ];
    },
  },
  methods: {
    renderLineChart: function () {
      var chartArray = [];
      this.labelArray.forEach((element, idx) => {
        console.log(this.data[idx]);
        chartArray.push({
          label: element,
          data: this.data[idx],
          borderColor: this.fillcolors[idx],
          pointBackgroundColor: this.backgroundColor[idx],
          fill: false,
          borderWidth: 1,
          pointRadius: 2,
          backgroundColor: this.backgroundColor,
        });
      });
      this.renderChart(
        {
          labels: this.labels,
          datasets: chartArray,
        },
        this.options
      );
    },
  },
  watch: {
    data: function () {
      this.renderLineChart();
    },
  },
};
